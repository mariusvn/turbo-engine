
#ifndef __TURBO_INPUT_HPP__
#define __TURBO_INPUT_HPP__

#include <allegro5/keyboard.h>

/*
 *  This class should not be instatied by the user
 */

#define __TURBO_KEY_SEEN 1
#define __TURBO_KEY_RELEASED 2

namespace turbo {
    /**
     * @brief Input helper util
     */
    class Input final {
    public:
        Input();
        void process_timer_event();
        void process_key_down_event(ALLEGRO_EVENT* event);
        void process_key_up_event(ALLEGRO_EVENT* event);
        /**
         * @brief check if a key is currently pressed
         * @param key turbo::KEY
         */
        bool is_key_pressed(int key) const;

    private:
        unsigned char key[ALLEGRO_KEY_MAX];
    };

    enum
    {
        KEY_A		= 1,
        KEY_B		= 2,
        KEY_C		= 3,
        KEY_D		= 4,
        KEY_E		= 5,
        KEY_F		= 6,
        KEY_G		= 7,
        KEY_H		= 8,
        KEY_I		= 9,
        KEY_J		= 10,
        KEY_K		= 11,
        KEY_L		= 12,
        KEY_M		= 13,
        KEY_N		= 14,
        KEY_O		= 15,
        KEY_P		= 16,
        KEY_Q		= 17,
        KEY_R		= 18,
        KEY_S		= 19,
        KEY_T		= 20,
        KEY_U		= 21,
        KEY_V		= 22,
        KEY_W		= 23,
        KEY_X		= 24,
        KEY_Y		= 25,
        KEY_Z		= 26,

        KEY_0		= 27,
        KEY_1		= 28,
        KEY_2		= 29,
        KEY_3		= 30,
        KEY_4		= 31,
        KEY_5		= 32,
        KEY_6		= 33,
        KEY_7		= 34,
        KEY_8		= 35,
        KEY_9		= 36,

        KEY_PAD_0		= 37,
        KEY_PAD_1		= 38,
        KEY_PAD_2		= 39,
        KEY_PAD_3		= 40,
        KEY_PAD_4		= 41,
        KEY_PAD_5		= 42,
        KEY_PAD_6		= 43,
        KEY_PAD_7		= 44,
        KEY_PAD_8		= 45,
        KEY_PAD_9		= 46,

        KEY_F1		= 47,
        KEY_F2		= 48,
        KEY_F3		= 49,
        KEY_F4		= 50,
        KEY_F5		= 51,
        KEY_F6		= 52,
        KEY_F7		= 53,
        KEY_F8		= 54,
        KEY_F9		= 55,
        KEY_F10		= 56,
        KEY_F11		= 57,
        KEY_F12		= 58,

        KEY_ESCAPE	= 59,
        KEY_TILDE		= 60,
        KEY_MINUS		= 61,
        KEY_EQUALS	= 62,
        KEY_BACKSPACE	= 63,
        KEY_TAB		= 64,
        KEY_OPENBRACE	= 65,
        KEY_CLOSEBRACE	= 66,
        KEY_ENTER		= 67,
        KEY_SEMICOLON	= 68,
        KEY_QUOTE		= 69,
        KEY_BACKSLASH	= 70,
        KEY_BACKSLASH2	= 71, /* DirectInput calls this DIK_OEM_102: "< > | on UK/Germany keyboards" */
        KEY_COMMA		= 72,
        KEY_FULLSTOP	= 73,
        KEY_SLASH		= 74,
        KEY_SPACE		= 75,

        KEY_INSERT	= 76,
        KEY_DELETE	= 77,
        KEY_HOME		= 78,
        KEY_END		= 79,
        KEY_PGUP		= 80,
        KEY_PGDN		= 81,
        KEY_LEFT		= 82,
        KEY_RIGHT		= 83,
        KEY_UP		= 84,
        KEY_DOWN		= 85,

        KEY_PAD_SLASH	= 86,
        KEY_PAD_ASTERISK	= 87,
        KEY_PAD_MINUS	= 88,
        KEY_PAD_PLUS	= 89,
        KEY_PAD_DELETE	= 90,
        KEY_PAD_ENTER	= 91,

        KEY_PRINTSCREEN	= 92,
        KEY_PAUSE		= 93,

        KEY_ABNT_C1	= 94,
        KEY_YEN		= 95,
        KEY_KANA		= 96,
        KEY_CONVERT	= 97,
        KEY_NOCONVERT	= 98,
        KEY_AT		= 99,
        KEY_CIRCUMFLEX	= 100,
        KEY_COLON2	= 101,
        KEY_KANJI		= 102,

        KEY_PAD_EQUALS	= 103,	/* MacOS X */
        KEY_BACKQUOTE	= 104,	/* MacOS X */
        KEY_SEMICOLON2	= 105,	/* MacOS X */
        KEY_COMMAND	= 106,	/* MacOS X */

        KEY_BACK = 107,        /* Android back key */
        KEY_VOLUME_UP = 108,
        KEY_VOLUME_DOWN = 109,

        /* Android game keys */
        KEY_SEARCH       = 110,
        KEY_DPAD_CENTER  = 111,
        KEY_BUTTON_X     = 112,
        KEY_BUTTON_Y     = 113,
        KEY_DPAD_UP      = 114,
        KEY_DPAD_DOWN    = 115,
        KEY_DPAD_LEFT    = 116,
        KEY_DPAD_RIGHT   = 117,
        KEY_SELECT       = 118,
        KEY_START        = 119,
        KEY_BUTTON_L1    = 120,
        KEY_BUTTON_R1    = 121,
        KEY_BUTTON_L2    = 122,
        KEY_BUTTON_R2    = 123,
        KEY_BUTTON_A     = 124,
        KEY_BUTTON_B     = 125,
        KEY_THUMBL       = 126,
        KEY_THUMBR       = 127,

        KEY_UNKNOWN      = 128,

        /* All codes up to before ALLEGRO_KEY_MODIFIERS can be freely
         * assignedas additional unknown keys, like various multimedia
         * and application keys keyboards may have.
         */

        KEY_MODIFIERS	= 215,

        KEY_LSHIFT	= 215,
        KEY_RSHIFT	= 216,
        KEY_LCTRL	= 217,
        KEY_RCTRL	= 218,
        KEY_ALT		= 219,
        KEY_ALTGR	= 220,
        KEY_LWIN		= 221,
        KEY_RWIN		= 222,
        KEY_MENU		= 223,
        KEY_SCROLLLOCK = 224,
        KEY_NUMLOCK	= 225,
        KEY_CAPSLOCK	= 226,

        KEY_MAX
    };



    enum
    {
        KEYMOD_SHIFT       = 0x00001,
        KEYMOD_CTRL        = 0x00002,
        KEYMOD_ALT         = 0x00004,
        KEYMOD_LWIN        = 0x00008,
        KEYMOD_RWIN        = 0x00010,
        KEYMOD_MENU        = 0x00020,
        KEYMOD_ALTGR       = 0x00040,
        KEYMOD_COMMAND     = 0x00080,
        KEYMOD_SCROLLLOCK  = 0x00100,
        KEYMOD_NUMLOCK     = 0x00200,
        KEYMOD_CAPSLOCK    = 0x00400,
        KEYMOD_INALTSEQ	 = 0x00800,
        KEYMOD_ACCENT1     = 0x01000,
        KEYMOD_ACCENT2     = 0x02000,
        KEYMOD_ACCENT3     = 0x04000,
        KEYMOD_ACCENT4     = 0x08000
    };
}

#endif